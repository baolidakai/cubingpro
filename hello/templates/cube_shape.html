{% extends "base.html" %}
{% load static %}

{% block content %}
<h1>
    SQ-1 Optimal Cube Shape
</h1>
<style>
 table {
        border-collapse: separate;
        border-spacing: 0;
    }

    td {
        width: 100px;
        height: 100px;
        text-align: center;
        vertical-align: middle;
    }

    .matrix-cell {
        width: 100px;
        height: 100px;
        display: flex;
        justify-content: center;
        align-items: center;
    }

    canvas {
        display: block;
        margin: auto;
    }

    /* Add scroll bar styling */
    div[style*="overflow-x: auto"] {
        scrollbar-width: thin;
        scrollbar-color: #888 #f1f1f1;
        overflow-x: scroll;
        overflow-y: hidden;
        position: relative;
    }

    div[style*="overflow-x: auto"]::-webkit-scrollbar {
        height: 10px;
    }

    div[style*="overflow-x: auto"]::-webkit-scrollbar-thumb {
        background: #888;
        border-radius: 5px;
    }

    div[style*="overflow-x: auto"]::-webkit-scrollbar-track {
        background: #f1f1f1;
    }

    /* Move scrollbar to the top */
    div[style*="overflow-x: auto"] {
        transform: rotateX(180deg);
    }

    div[style*="overflow-x: auto"] > * {
        transform: rotateX(180deg);
    }
</style>
<div style="overflow-x: auto;">
    <table style="width: 100%; table-layout: fixed;"></table>
</div>
</table>

<script>
    const table = document.querySelector("table");

    // Create the header row
    const headerRow = document.createElement("tr");
    const emptyHeaderCell = document.createElement("td");
    headerRow.appendChild(emptyHeaderCell);

    for (let i = 0; i < 10; i++) {
        const headerCell = document.createElement("td");
        const canvas = document.createElement("canvas");
        canvas.id = `square-col-${i + 1}`;
        canvas.width = 100;
        canvas.height = 100;
        headerCell.appendChild(canvas);
        headerRow.appendChild(headerCell);
    }
    table.appendChild(headerRow);

    // Create the rest of the rows
    for (let i = 0; i < 10; i++) {
        const row = document.createElement("tr");

        const rowHeaderCell = document.createElement("td");
        const rowCanvas = document.createElement("canvas");
        rowCanvas.id = `square-row-${i + 1}`;
        rowCanvas.width = 100;
        rowCanvas.height = 100;
        rowHeaderCell.appendChild(rowCanvas);
        row.appendChild(rowHeaderCell);

        for (let j = 0; j < 10; j++) {
            const cell = document.createElement("td");
            const div = document.createElement("div");
            div.className = "matrix-cell";
            const p = document.createElement("p");
            p.id = `matrix-cell-${i + 1}-${j + 1}`;
            div.appendChild(p);
            cell.appendChild(div);
            row.appendChild(cell);
        }
        table.appendChild(row);
    }

    const patterns = [
        "21212121", "12122121", "21122112", "21211221", 
        "21121212", "22111122", "12212211", "11211222", 
        "12111222", "11121222"
    ];
    const cell_contents = [
        ["<p>1,1</p>", "<p>1,2</p>", "<p>1,3</p>", "<p>1,4</p>", "<p>1,5</p>", "<p>1,6</p>", "<p>1,7</p>", "<p>1,8</p>", "<p>1,9</p>", "<p>1,10</p>"],
        ["<p>2,1</p>", "<p>2,2</p>", "<p>2,3</p>", "<p>2,4</p>", "<p>2,5</p>", "<p>2,6</p>", "<p>2,7</p>", "<p>2,8</p>", "<p>2,9</p>", "<p>2,10</p>"],
        ["<p>3,1</p>", "<p>3,2</p>", "<p>3,3</p>", "<p>3,4</p>", "<p>3,5</p>", "<p>3,6</p>", "<p>3,7</p>", "<p>3,8</p>", "<p>3,9</p>", "<p>3,10</p>"],
        ["<p>4,1</p>", "<p>4,2</p>", "<p>4,3</p>", "<p>4,4</p>", "<p>4,5</p>", "<p>4,6</p>", "<p>4,7</p>", "<p>4,8</p>", "<p>4,9</p>", "<p>4,10</p>"],
        ["<p>5,1</p>", "<p>5,2</p>", "<p>5,3</p>", "<p>5,4</p>", "<p>5,5</p>", "<p>5,6 same as 6,5</p>", "<p>5,7</p>", "<p>5,8</p>", "<p>5,9</p>", "<p>5,10</p>"],
        ["<p>6,1</p>", "<p>6,2</p>", "<p>6,3</p>", "<p>6,4</p>", "<p>6,5 (-2, 0) to basic case</p>", "<p>6,6</p>", "<p>6,7</p>", "<p>6,8</p>", "<p>6,9</p>", "<p>6,10</p>"],
        ["<p>7,1</p>", "<p>7,2</p>", "<p>7,3</p>", "<p>7,4</p>", "<p>7,5</p>", "<p>7,6</p>", "<p>7,7</p>", "<p>7,8</p>", "<p>7,9</p>", "<p>7,10</p>"],
        ["<p>8,1</p>", "<p>8,2</p>", "<p>8,3</p>", "<p>8,4</p>", "<p>8,5</p>", "<p>8,6</p>", "<p>8,7</p>", "<p>8,8</p>", "<p>8,9</p>", "<p>8,10</p>"],
        ["<p>9,1</p>", "<p>9,2</p>", "<p>9,3</p>", "<p>9,4</p>", "<p>9,5</p>", "<p>9,6</p>", "<p>9,7</p>", "<p>9,8</p>", "<p>9,9</p>", "<p>9,10</p>"],
        ["<p>10,1</p>", "<p>10,2</p>", "<p>10,3</p>", "<p>10,4</p>", "<p>10,5</p>", "<p>10,6</p>", "<p>10,7</p>", "<p>10,8</p>", "<p>10,9</p>", "<p>10,10</p>"]
    ];

    cell_contents.forEach((row, i) => {
        row.forEach((content, j) => {
            const cell = document.getElementById(`matrix-cell-${i + 1}-${j + 1}`);
            if (cell) {
                cell.innerHTML = content;
            }
        });
    });

    patterns.forEach((pattern, index) => {
        drawSquareShape(`square-row-${index + 1}`, pattern);
        drawSquareShape(`square-col-${index + 1}`, pattern);
    });
</script>



{% endblock content %}